(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-537d"],{"2ywO":function(t,e,a){"use strict";var n=a("AgCL");a.n(n).a},"4SJy":function(t,e,a){"use strict";var n=a("7Qib");e.a={mounted:function(){var t=this;this.__resizeHandler=Object(n.a)(function(){t.chart&&t.chart.resize()},100),window.addEventListener("resize",this.__resizeHandler),document.getElementsByClassName("sidebar-container")[0].addEventListener("transitionend",this.sidebarResizeHandler)},beforeDestroy:function(){window.removeEventListener("resize",this.__resizeHandler),document.getElementsByClassName("sidebar-container")[0].removeEventListener("transitionend",this.sidebarResizeHandler)},methods:{sidebarResizeHandler:function(t){"width"===t.propertyName&&this.__resizeHandler()}}}},"5JfJ":function(t,e,a){"use strict";var n=a("8LU3");a.n(n).a},"8LU3":function(t,e,a){},AgCL:function(t,e,a){},tlcE:function(t,e,a){"use strict";a.r(e);var n=a("jWXv"),s=a.n(n),i=a("m1cH"),r=a.n(i),l=a("EVdn"),c=a.n(l),o=a("MT78"),u=a.n(o),d={mixins:[a("4SJy").a],props:{className:{type:String,default:"chart"},id:{type:String,default:"chart"},width:{type:String,default:"200px"},height:{type:String,default:"200px"},chartopts:{type:Object,default:null}},data:function(){return{chart:null}},mounted:function(){this.initChart()},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){var t=this.chartopts,e=t.currentMonth,a=t.cycle,n=t.uncompletedArr;n=n.map(function(t){return parseInt(t)});for(var s=parseInt(function(t,e){for(var a in e){if(e[a]===t)return a;if(a===e.length-1)return-1}}(e,a)),i=a.length,r=[],l=[],o=100/(i-1),d=0;d<i;d++){var h=i-d-1;d<s?(l.push(o*h),r.push("")):d===s?(l.push(o*h),r.push(o*h)):(l.push(""),r.push(o*h))}this.chart=u.a.init(document.getElementById(this.id));var p={markLine:{show:!1},tooltip:{trigger:"axis",axisPointer:{lineStyle:{color:"transparent"},label:{backgroundColor:"#000"}},formatter:function(t){var e=t[0],a=e.axisValue,n=e.value;return a+"<br/>"+e.seriesName+":还剩"+n+"%"}},toolbox:{show:!1,feature:{saveAsImage:{}}},grid:{left:"-20px",right:"3%",bottom:"0%",top:"10px",containLabel:!0},xAxis:[{type:"category",boundaryGap:!1,axisTick:{show:!1},splitLine:{show:!1},axisLabel:{textStyle:{color:"#999"}},axisLine:{lineStyle:{color:"#dfe0e0"}},data:a}],yAxis:[{type:"value",boundaryGap:!1,splitLine:{show:!1},axisTick:{show:!1},axisLine:{lineStyle:{color:"#dfe0e0"}},axisLabel:{textStyle:{color:"#999"},formatter:function(t){if(100===t||0===t)return t+"%"}}}],series:[{name:"项目进度",type:"line",symbol:"emptyCircle",symbolSize:13,color:"#2ca9e7",itemStyle:{normal:{lineStyle:{color:"#2ca9e7",width:2}}},data:n},{name:"未完成进度",type:"line",symbol:"none",itemStyle:{normal:{areaStyle:{type:"default",color:"#ffd5d3"},lineStyle:{color:"#f35a4c",width:2,type:"dotted"}}},data:r},{name:"已完成进度",type:"line",symbol:"none",itemStyle:{normal:{areaStyle:{type:"default",color:"#c3ffe1"},lineStyle:{color:"#58cc77",width:2,type:"dotted"}}},data:l}]};p=c.a.extend({},p,t.options),this.chart.setOption(p)}}},h=a("KHd+"),p=Object(h.a)(d,function(){var t=this.$createElement;return(this._self._c||t)("div",{class:this.className,style:{height:this.height,width:this.width},attrs:{id:this.id}})},[],!1,null,null,null);p.options.__file="BurnDownChart.vue";var f={name:"ProjectGrid",components:{Chart:p.exports},props:{iData:{type:Object,default:null},gIndex:{type:Number,default:0}},data:function(){return{}}},m=(a("2ywO"),Object(h.a)(f,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-col",{attrs:{span:12,xs:24,lg:8}},[a("router-link",{staticClass:"c-item-grid",attrs:{to:"/planning/project/detail"}},[a("div",{staticClass:"flex-column-wrap"},[a("h3",{staticClass:"r1 f-18 "},[a("span",{staticClass:"text-blue"},[t._v(" "+t._s(t.iData.content.title)+" ")])]),t._v(" "),a("div",{staticClass:"r2 f-25"},[a("div",{staticClass:"chart-tips"},[a("p",[t._v("截止 "+t._s(t.iData.content.deadline)+" 剩余任务")]),t._v(" "),a("p",[a("span",{staticClass:"value"},[a("strong",[t._v(" "+t._s(t.iData.content.remainingPercentage)+" ")])])])]),t._v(" "),a("table",[a("tbody",[a("tr",{staticClass:"text-nowrap"},[a("td",{staticClass:"text-left"},[t._v("剩余任务量")]),t._v(" "),a("td",{staticClass:"text-right",attrs:{colspan:"2"}},[t._v("进度："),a("b",{staticClass:"text-green"},[t._v(" "+t._s(t.iData.content.scheduleStatus)+" ")])])]),t._v(" "),a("tr",[a("td",{attrs:{colspan:"2"}},[a("chart",{attrs:{id:"chart_"+t.gIndex,chartopts:t.iData.chart,height:"200px",width:"100%"}})],1),t._v(" "),a("td",{attrs:{width:"18",valign:"bottom"}},[t._v("工期")])])])])]),t._v(" "),a("div",{staticClass:"r3"},[a("p",{staticClass:"text-muted f-14"},[t._v("距离计划工期余剩")]),t._v(" "),a("p",{staticClass:"f-18"},[t._v(" "+t._s(t.iData.content.daysRemaining)+" ")])])]),t._v(" "),a("footer",{staticClass:"bg-blue f-18"},[t._v("\n      "+t._s(t.iData.content.projectStatus)+"\n      "),a("i",{staticClass:"iconfont icon-clock"})])])],1)},[],!1,null,"3faa82ee",null));m.options.__file="ProjectGrid.vue";var y={name:"ProjectPage",components:{projectGrid:m.exports},data:function(){return{opts:[{data:{content:{title:"19号楼建设任务",scheduleStatus:"正常",deadline:"8月6日",remainingPercentage:"20%",daysRemaining:"31天5小时",projectStatus:"进行中"},chart:{uncompletedArr:["100%","90%","70%","20%"],cycle:["6月","7月","8月","9月","10月","11月","12月"],currentMonth:"9月"}}},{data:{content:{title:"园区路灯安装任务",scheduleStatus:"正常",deadline:"8月6日",remainingPercentage:"100%",daysRemaining:"31天5小时",projectStatus:"未完成"},chart:{uncompletedArr:["100%","100%","100%","100%"],cycle:["5月","7月","8月","9月"],currentMonth:"9月"}}},{data:{content:{title:"园区路灯安装任务22",scheduleStatus:"正常",deadline:"8月6日",remainingPercentage:"100%",daysRemaining:"31天5小时",projectStatus:"已完成"},chart:{uncompletedArr:["100%","100%","100%","100%"],cycle:["5月","7月","8月","9月"],currentMonth:"9月"}}},{data:{content:{title:"19号楼建设任务",scheduleStatus:"延迟",deadline:"8月6日",remainingPercentage:"20%",daysRemaining:"31天5小时",projectStatus:"进行中"},chart:{uncompletedArr:["100%","90%","70%","30%"],cycle:["6月","7月","8月","9月","10月","11月","12月"],currentMonth:"9月"}}},{data:{content:{title:"园区路灯安装任务123",scheduleStatus:"提前",deadline:"8月6日",remainingPercentage:"20%",daysRemaining:"31天5小时",projectStatus:"未完成"},chart:{uncompletedArr:["100%","100%","100%","20%"],cycle:["5月","7月","8月","9月"],currentMonth:"9月"}}},{data:{content:{title:"园区路灯安装任务22",scheduleStatus:"正常",deadline:"8月6日",remainingPercentage:"100%",daysRemaining:"31天5小时",projectStatus:"已完成"},chart:{uncompletedArr:["100%","70%","50%","0%"],cycle:["5月","7月","8月","9月"],currentMonth:"9月",options:{}}}}],searchKeyword:"",projectStatus:"",scheduleStatus:""}},computed:{scheduleStatusLabel:function(){return this.scheduleStatus.replace("进度","")},dataList:function(){var t="全部"===this.projectStatus?"":this.projectStatus,e="全部"===this.scheduleStatusLabel?"":this.scheduleStatusLabel;return this.opts.filter(function(a){return a.data.content.projectStatus.includes(t)&&a.data.content.scheduleStatus.includes(e)})},projectStatusList:function(){var t=this.opts.map(function(t){return t.data.content.projectStatus});return t.unshift("全部"),[].concat(r()(new s.a(t)))},scheduleStatusList:function(){var t=this.opts.map(function(t){return"进度"+t.data.content.scheduleStatus});return t.unshift("全部"),[].concat(r()(new s.a(t)))}},mounted:function(){},methods:{filterStatus:function(t){var e=c()(t.currentTarget),a=e.attr("itype");e.closest("ul").find("button").removeClass("el-button--primary"),e.addClass("el-button--primary"),"projectStatus"===a&&(this.projectStatus=e.text()),"scheduleStatus"===a&&(this.scheduleStatus=e.text())}}},v=(a("5JfJ"),Object(h.a)(y,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._v("\n  "+t._s(t.opts[0][0])+"\n  "),a("div",{staticClass:"flex-box filter-bar"},[a("ul",{staticClass:"flex-item flex-box"},t._l(t.projectStatusList,function(e,n){return a("li",{key:n},[a("el-button",{attrs:{type:0===n?"primary":" ",size:"medium",itype:"projectStatus"},on:{click:t.filterStatus}},[t._v(t._s(e))])],1)})),t._v(" "),a("ul",{staticClass:"flex-box"},[a("li",[a("el-button",{attrs:{size:"medium",plain:""}},[t._v("+ 新增任务")])],1),t._v(" "),t._m(0)])]),t._v(" "),a("div",{staticClass:"flex-box filter-bar"},[a("ul",{staticClass:"flex-item flex-box"},t._l(t.scheduleStatusList,function(e,n){return a("li",{key:n},[a("el-button",{attrs:{type:0===n?"primary":" ",size:"medium",itype:"scheduleStatus"},on:{click:t.filterStatus}},[t._v(t._s(e))])],1)})),t._v(" "),a("ul",{staticClass:"flex-box flex-box"},[a("li",[a("el-button",{attrs:{size:"medium",plain:""}},[t._v("剩余时间排序")])],1),t._v(" "),a("li",[a("el-button",{attrs:{size:"medium",plain:""}},[t._v("进度排序")])],1),t._v(" "),a("li",[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入内容"},model:{value:t.searchKeyword,callback:function(e){t.searchKeyword=e},expression:"searchKeyword"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},slot:"append"})],1)],1)])]),t._v(" "),a("el-row",{attrs:{gutter:15}},t._l(t.dataList,function(t,e){return a("project-grid",{key:e,attrs:{"i-data":t.data,"g-index":e}})}))],1)},[function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("a",{attrs:{href:"#"}},[this._v("查看归档记录")])])}],!1,null,"94a161e8",null));v.options.__file="index.vue";e.default=v.exports}}]);