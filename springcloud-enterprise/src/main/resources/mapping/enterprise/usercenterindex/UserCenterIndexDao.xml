<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.jn.enterprise.usercenterindex.dao.UserCenterIndexDao">

    <!--企业邀请-->
    <select id="findBusinessInvitation" parameterType="java.lang.String" resultType="java.lang.String">
        SELECT
        t.message_title
        FROM tb_message_list t
        WHERE t.record_status = 1
        AND t.message_one_sort = 0
        AND t.message_tow_sort = 8
        AND t.message_recipient = #{account}
        LIMIT 1
    </select>

    <!---->
    <select id="findEmployeeRequisition" parameterType="java.lang.String" resultType="com.jn.enterprise.usercenterindex.model.EmployeeRequisitionModel">
        SELECT
		SUM(CASE t.inviter_account WHEN ${account} then 1 else 0 end) as "total",
		CONCAT(ROUND(sum( CASE  WHEN (t.check_status = 0 || t.check_status is NULL)  THEN 1 ELSE 0  END))) as "unExamine"
        FROM
        tb_service_company_staff t
        WHERE t.record_status = 1
        AND t.inviter_account=#{account}
    </select>

</mapper>