<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.jn.park.asset.dao.RoomOrdersDao">
    <select id="getPayOrders" parameterType="java.lang.String" resultType="com.jn.park.asset.model.RoomPayOrdersModel">
        SELECT
            id,
            create_time      AS createTime,
            room_id          as roomId,
            room_name        as roomName,
            room_area        AS roomArea,
            lease_price      AS leasePrice,
            lease_sum        AS leaseSum,
            lease_start_time AS leaseStartTime,
            lease_end_time   AS leaseEndTime,
            pay_sum          AS paySum
        FROM
            tb_room_orders
        where
            id = #{id}
    </select>

    <select id="getRoomOrdersList" parameterType="java.lang.String" resultType="com.jn.park.asset.model.RoomOrdersModle">
        SELECT
            id,
            enterprise_id AS enterpriseId,
            lease_enterprise AS leaseEnterprise,
            room_id AS roomId,
            room_name AS roomName,
            floor,
            tower_id AS towerId,
            tower_name AS towerName,
            room_url AS roomUrl,
            lease_start_time AS leaseStartTime,
            lease_end_time AS leaseEndTime,
            contact_name AS contactName,
            contact_phone AS contactPhone,
            room_area AS roomArea,
            lease_price AS leasePrice,
            introduce,
            lease_sum AS leaseSum,
            press_pay AS pressPay,
            shortest_lease AS shortestLease,
            pay_sum AS paySum,
            room_status AS roomStatus
        FROM
            tb_room_orders
        WHERE record_status = '1' and creator_account = #{account}
    </select>

    <select id="getRoomOrders" parameterType="java.lang.String" resultType="com.jn.park.asset.model.RoomOrdersModle">
        SELECT
            id,
            enterprise_id AS enterpriseId,
            lease_enterprise AS leaseEnterprise,
            room_id AS roomId,
            room_name AS roomName,
            floor,
            tower_id AS towerId,
            tower_name AS towerName,
            room_url AS roomUrl,
            lease_start_time AS leaseStartTime,
            lease_end_time AS leaseEndTime,
            contact_name AS contactName,
            contact_phone AS contactPhone,
            room_area AS roomArea,
            lease_price AS leasePrice,
            introduce,
            lease_sum AS leaseSum,
            press_pay AS pressPay,
            shortest_lease AS shortestLease,
            pay_sum AS paySum,
            room_status AS roomStatus
        FROM
            tb_room_orders
        WHERE id = #{id}
    </select>

    <update id="updateRoomStatus" parameterType="java.util.Map" >
        UPDATE tb_room_orders
        SET room_status = #{roomStatus}
        WHERE
            id = #{orderId}
    </update>

</mapper>
