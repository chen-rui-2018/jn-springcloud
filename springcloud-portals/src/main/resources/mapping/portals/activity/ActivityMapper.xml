<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.jn.portals.activity.dao.ActivityMapper">
    <select id="selectActivityList" parameterType="com.jn.portals.activity.model.Activity" resultType="com.jn.portals.activity.model.Activity">
        select a.id as "id", a.acti_type as "actiType", a.acti_name as "actiName",
               a.acti_start_time as "actiStartTime", a.acti_end_time as "actiEndTime",
               a.apply_start_time as "applyStartTime", a.apply_end_time as "applyEndTime",
               a.mes_send_time as "mesSendTime", a.acti_address as "actiAddress",
               a.acti_cost as "actiCost", a.acti_organizer as "actiOrganizer",
               a.acti_number as "actiNumber", a.acti_poster_url as "actiPosterUrl",
               a.state as "state", a.create_time as "createTime", a.create_account as "createAccount",
               a.update_time as "updateTime", a.update_account as "updateAccount",
               a.acti_views as "actiViews", a.acti_like as "actiLike", a.apply_num as "applyNum",
               a.partic_num as "particNum", a.is_top as "isTop", a.top_time as "topTime",
               a.is_apply as "isApply", a.acti_order as "actiOrder",t.type_name as "typeName"
        from tb_activity a left join tb_activity_type t on a.acti_type = t.type_id
             where 1=1
        <if test="actiType != null">
            and a.acti_type=#{actiType}
        </if>
        <if test="state != null">
            and a.state=#{state}
        </if>
        <if test="actiName != null">
            and a.acti_name=#{actiName}
        </if>
    </select>
</mapper>